[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"optimistic-proskuriakova-419001"},"spec":{"charts":[{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"monotoneX","height":4,"heightRatio":0.43,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Message_Size","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"import \"strings\"\nfrom(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"message-size\")\n    |> map(fn: (r) => ({r with message_type: strings.split(v: r.name, t: \" \")[0]}))\n    |> drop(columns: [\"name\"])\n    |> group(columns:[\"message_type\"])"}],"show":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.43,"show":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"DeliveryTime","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"delivery_metrics\")\n    |> filter(fn: (r) => r[\"_field\"] == \"delivery-time\")\n    |> group(columns: [\"host\"])\n    |> sort(columns: [\"_time\"])"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":4},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"heightRatio":0.19,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"QC_Time","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"delivery_metrics\")\n    |> filter(fn: (r) => r[\"_field\"] == \"qc-time\")\n    |> group(columns: [\"host\"])\n    |> sort(columns: [\"_time\"])"}],"show":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.19,"show":true,"opacity":1,"orientationThreshold":100000000,"valueAxis":"y","widthRatio":1},"valueAxis":"y","width":4,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":8},{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"fieldOptions":[{"displayName":"host","fieldName":"host","visible":true},{"displayName":"TPS","fieldName":"TPS","visible":true},{"displayName":"throughput","fieldName":"throughput","visible":true}],"height":4,"kind":"Table","name":"InputThrouput","queries":[{"query":"data_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-arrival-time\")\n        |> group(columns: [\"host\"])\n        |> count()\n        |> toFloat()\n        |> keep(columns:[\"_value\", \"host\"])\n\nfirst_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-arrival-time\")\n        |> group(columns: [\"host\"])\n        |> sort()\n        |> first()\n        |> group()\n        |> keep(columns:[\"_time\", \"host\"])\n\n\nlast_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-arrival-time\")\n        |> group(columns: [\"host\"])\n        |> sort()\n        |> last()\n        |> group()\n        |> keep(columns:[\"_time\", \"host\"])\n\nduration = \njoin(tables:{f: first_per_host, l: last_per_host}, on: [\"host\"])\n        |> map(fn: (r) => ({\n                host: r.host,\n                duration: float(v:(int(v:(uint(v: r._time_l) - uint(v: r._time_f)))) /1000000000)                  \n})) \n\njoin(\n      tables:{time:duration, count:data_per_host},\n      on:[\"host\"]\n    )\n\n    |> map(fn:(r) => ({\n\n             host: r.host,\n             throughput: float(v: (r._value/r.duration))\n\n    }))"}],"staticLegend":{},"tableOptions":{"verticalTimeAxis":true},"timeFormat":"YYYY-MM-DD HH:mm:ss","width":4,"yPos":12},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"heightRatio":0.43,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Travel_Time","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"import \"strings\"\nfrom(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"travel-time\")\n    |> map(fn: (r) => ({r with message_type: strings.split(v: r.name, t: \" \")[0]}))\n    |> drop(columns: [\"name\"])\n    |> group(columns:[\"host\", \"message_type\"])\n    |> sort(columns: [\"_time\"])"}],"show":true,"staticLegend":{"colorizeRows":true,"heightRatio":0.43,"show":true,"opacity":1,"orientationThreshold":100000000,"valueAxis":"y","widthRatio":1},"valueAxis":"y","width":4,"widthRatio":1,"xCol":"_time","xPos":4,"yCol":"_value"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"QC_Creation_Time","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"delivery_metrics\")\n    |> filter(fn: (r) => r[\"_field\"] == \"qc-creation-time\")\n    |> group()\n    |> sort(columns: [\"_time\"])"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":4,"yCol":"_value","yPos":4},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"DeliveryEndTime","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"xrbc-coi\")\n    |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n    |> filter(fn: (r) => r[\"_measurement\"] == \"delivery_metrics\")\n    |> filter(fn: (r) => r[\"_field\"] == \"delivery-end-time\")\n    |> group(columns: [\"host\"])\n    |> sort(columns: [\"_time\"])"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time","xPos":4,"yCol":"_value","yPos":8},{"colors":[{"id":"base","name":"white","type":"text","hex":"#ffffff"}],"fieldOptions":[{"displayName":"host","fieldName":"host","visible":true},{"displayName":"TPS","fieldName":"TPS","visible":true},{"displayName":"throughput","fieldName":"throughput","visible":true}],"height":4,"kind":"Table","name":"OutputThrouput","queries":[{"query":"data_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-store-time\")\n        |> group(columns: [\"host\"])\n        |> count()\n        |> toFloat()\n        |> keep(columns:[\"_value\", \"host\"])\n\nfirst_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-store-time\")\n        |> group(columns: [\"host\"])\n        |> sort()\n        |> first()\n        |> group()\n        |> keep(columns:[\"_time\", \"host\"])\n\n\nlast_per_host = \nfrom(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-store-time\")\n        |> group(columns: [\"host\"])\n        |> sort()\n        |> last()\n        |> group()\n        |> keep(columns:[\"_time\", \"host\"])\n\nduration = \njoin(tables:{f: first_per_host, l: last_per_host}, on: [\"host\"])\n        |> map(fn: (r) => ({\n                host: r.host,\n                duration: float(v:(int(v:(uint(v: r._time_l) - uint(v: r._time_f)))) /1000000000)                  \n})) \n\njoin(\n      tables:{time:duration, count:data_per_host},\n      on:[\"host\"]\n    )\n\n    |> map(fn:(r) => ({\n\n             host: r.host,\n             throughput: float(v: (r._value/r.duration))\n\n    }))"}],"staticLegend":{},"tableOptions":{"verticalTimeAxis":true},"timeFormat":"YYYY-MM-DD HH:mm:ss","width":4,"xPos":4,"yPos":12},{"axes":[{"base":"10","name":"x","scale":"linear"},{"name":"y","scale":"linear","suffix":"s"}],"colorizeRows":true,"colors":[{"id":"rKYkKq_LoDW2-qBdU8pHZ","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"Fmkq6CDmCJHdQhbZcfQQ9","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"becQm5iLyjtSihaUVjRit","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"line","height":4,"heightRatio":0.19,"hoverDimension":"auto","kind":"Xy","legendColorizeRows":true,"legendHide":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"SinglePayloadDeliveryLatency","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"left =\n    from(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-arrival-time\")\n        |> group(columns: [\"header\"])\n\nright =\n    from(bucket: \"xrbc-coi\")\n        |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n        |> filter(fn: (r) => r._measurement == \"throughput\")\n        |> filter(fn: (r) => r._field == \"system-data-store-time\")\n        |> group(columns: [\"header\"])\n\njoin(tables: {key1: left, key2: right}, on: [\"header\", \"header\", \"host\", \"host\"], method: \"inner\")\n    |> map(fn: (r) => ({r with duration: ((float(v:r._value_key2) - float(v:r._value_key1)) / 1000000000.0) }))\n    |> keep(columns: [\"header\", \"duration\", \"_time_key1\", \"host\"])\n    |> group(columns: [\"host\"])\n    |> sort(columns: [\"_time_key1\"])"}],"staticLegend":{"colorizeRows":true,"heightRatio":0.19,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":4,"widthRatio":1,"xCol":"_time_key1","xPos":8,"yCol":"duration"}],"name":"XRBC-COI"}}]